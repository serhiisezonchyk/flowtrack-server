import{u as y,r as w,A as j,a as v,j as e,N as S,S as N,I as n,B as b,L as i,b as C,c as s,d as U,i as k,t as L,e as P}from"./index-9kwa141l.js";const E=()=>{var l,c,d;const p=y(),{isAuth:m}=w.useContext(j),x=async h=>{var u;const r=s.loading("Please wait...");try{await U.signUp(h)&&(s.update(r,{render:"User created successfuly",type:"success",isLoading:!1,autoClose:2e3}),p("/sign-in"))}catch(o){k(o)?s.update(r,{render:`${(u=o.response)==null?void 0:u.data.error}`,type:"error",isLoading:!1,autoClose:2e3}):s.update(r,{render:"Something went wrong! Try later.",type:"error",isLoading:!1,autoClose:2e3})}},{register:a,handleSubmit:g,formState:f}=v({defaultValues:{login:"",password:""},resolver:L(P)}),{errors:t}=f;return m?e.jsx(S,{to:"/",replace:!0}):e.jsxs("div",{className:"h-full flex justify-center items-center",children:[e.jsx(N,{title:"Sign Up | FlowTrack",description:"Create a new account to get started with our amazing services.",name:"Sign Up",type:"form"}),e.jsxs("div",{className:"mx-auto flex w-full flex-col justify-center space-y-6 sm:w-[350px]",children:[e.jsxs("div",{className:"flex flex-col space-y-2 text-center",children:[e.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Create an account"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Enter your email below to create your account"})]}),e.jsxs("form",{onSubmit:g(x),className:"flex flex-col px-2 sm:px-0",children:[e.jsx(n,{...a("login"),placeholder:"Login",id:"login",label:"Login",autoCapitalize:"none",autoComplete:"email",autoCorrect:"off",errorMessage:(l=t.login)==null?void 0:l.message}),e.jsx(n,{...a("password"),placeholder:"Password",id:"password",type:"password",label:"Password",errorMessage:(c=t.password)==null?void 0:c.message}),e.jsx(n,{...a("checkPassword"),placeholder:"Repeat password",id:"checkPassword",type:"password",label:"Repeat password",errorMessage:(d=t.password)==null?void 0:d.message}),e.jsx(b,{type:"submit",className:"mt-4",variant:"secondary",children:"Sign Up"}),e.jsx(i,{to:"/sign-in",className:C({variant:"link"}),children:"Already have an account?"}),e.jsxs("p",{className:"px-8 text-center text-sm text-muted-foreground",children:["By clicking Sign Up, you agree to our"," ",e.jsx(i,{to:"#",className:"underline underline-offset-4 hover:text-primary",children:"Terms of Service"})," ","and"," ",e.jsx(i,{to:"#",className:"underline underline-offset-4 hover:text-primary",children:"Privacy Policy"}),"."]})]})]})]})};export{E as default};
